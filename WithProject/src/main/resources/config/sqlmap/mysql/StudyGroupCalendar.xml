<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
   
<mapper namespace="with.calendar.dao">
   
   <resultMap type="calendar" id="calResult">
      <result column="title" property="title"/>
      <result column="id" property="id"/>
      <result column="start_date" property="startDate"/>
      <result column="end_date" property="endDate"/>
      <result column="group_no" property="groupNo"/>
      <result column="group_name" property="groupName"/>
      <result column="member_no" property="memberNo"/>
   </resultMap>
   
   <insert id="registSch" parameterType="calendar">
      insert into t_with_studygroup_calendar (
         start_date, end_date, title, group_no, group_name, member_no
      ) values (
         #{startDate}, #{endDate}, #{title}, 1, '자바73기', '1'
      )
   </insert>
   <select id="selectSch" resultMap="calResult">
      select start_date, end_date, title, id
      from t_with_studygroup_calendar 
   </select>
   
   <update id="updateSch" parameterType="calendar">
      update 
      	t_with_studygroup_calendar
      set
    		start_date = #{startDate}, 
    		end_date = #{endDate}, 
    		title = #{title}
    	where 
    		id = #{id}
   </update>
   
   <delete id="deleteSch" parameterType="int">
      delete from t_with_studygroup_calendar
      where id = #{id}
   </delete>
   
   <select id="maxId" resultType="int">
   	select max(id)
   	  from t_with_studygroup_calendar
   </select>
</mapper>