<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="with.studygroup.dao">
	<resultMap type="studygroup" id="studyGroup">
		<result column="group_no" property="groupNo" />
		<result column="group_name" property="groupName" />
		<result column="group_detail" property="groupDetail" />
		<result column="group_maxperson" property="groupMaxPerson" />
		<result column="group_nowperson" property="groupNowPerson" />
		<result column="group_activelongitude" property="groupActiveLongitude" />
		<result column="group_activelatitude" property="groupActiveLatitude" />
		<result column="group_activeplace" property="groupActivePlace" />
		<result column="group_tel" property="groupTel" />
		<result column="group_regdate" property="groupRegDate" />
		<result column="group_imagepath" property="groupImgPath" />
	</resultMap>
	
	<!-- 스터디그룹 리스트 출력을 위한 쿼리문 -->
	<select id="studyList" resultMap="studyGroup">
		select 
			gr.group_no, gr.group_name, gr.group_detail, 
			gr.group_maxperson, gr.group_nowperson, 
			gr.group_activelongitude, gr.group_activelatitude, 
			gr.group_activeplace, gr.group_tel, image.group_imagepath
		<!--date_format(group_regdate, '%Y-%m-%d') as groupRegDate  -->
		from 
			t_with_studygroup gr, t_with_studygroup_image image
		where 
			gr.group_no = image.group_no
		limit #{startPage}, #{endPage}
	</select>
</mapper>